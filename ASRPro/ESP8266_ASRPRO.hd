<xml xmlns="http://www.w3.org/1999/xhtml"><block type="block_with_textarea" id="ixrHG3KVGyZ%o8s$^vNB" x="0" y="0"><field name="input">//该案例用于ESP8266 ASRPRO</field></block><block type="setup" id="FZ;QNouPm+Ydel/bulm8" x="0" y="65"><statement name="DO"><block type="asr_speak" id="MaT`9+Oikgn}zKtgg?A["><field name="VOICE_SET">小蝶-清新女声</field><field name="vol">4</field><field name="speed">10</field><next><block type="asr_welcom" id=")3`e*f)~4i4wI?[QymJY"><field name="NAME">欢迎使用语音助手，用小黑同学唤醒我。</field><next><block type="asr_sleep" id="T/2u}Q$vc/$/dkOG~rov"><field name="NAME">再见，可以用小黑同学唤醒我</field><next><block type="asr_id" id="z;IHE4P.32Y=Pe:PfICo"><field name="ASR">小黑同学</field><field name="leibie">唤醒词</field><field name="huifu">在呢</field><field name="id">0</field><next><block type="asr_id" id="WGh,bSr^sIm$aEQgotZ^"><field name="ASR">打开客厅灯</field><field name="leibie">命令词</field><field name="huifu">好的，马上打开客厅灯</field><field name="id">1</field><next><block type="asr_id" id="Z9{q_RsDAOYry^[M@`s?"><field name="ASR">关闭客厅灯</field><field name="leibie">命令词</field><field name="huifu">好的，马上关闭客厅灯</field><field name="id">2</field><next><block type="asr_id" id="FzE##V2WQ{sr;!yQ)odz"><field name="ASR">打开房间灯</field><field name="leibie">命令词</field><field name="huifu">好的，马上打开房间灯</field><field name="id">3</field><next><block type="asr_id" id="*/dO2,D)(X;1$-~3BChJ"><field name="ASR">关闭房间灯</field><field name="leibie">命令词</field><field name="huifu">好的，马上关闭房间灯</field><field name="id">4</field><next><block type="serial_begin" id="@5S1zVKRC+/6lN?L9ske"><field name="serial_select">Serial</field><field name="TX">PB_5</field><field name="RX">PB_6</field><value name="CONTENT"><shadow type="baud" id="I]B@dEcoUW,?F-e_I#+U"><field name="baud">115200</field></shadow></value><next><block type="serial_begin" id="jO=S:b@u{kryAB0*Ck(-"><field name="serial_select">Serial2</field><field name="TX">PA_5</field><field name="RX">PA_6</field><value name="CONTENT"><shadow type="baud" id="1Y16xtR_.(zRF.ERTZvh"><field name="baud">115200</field></shadow></value><next><block type="gpio_funmode_setup" id="3D[l;Si27nIh1!zed{/L"><field name="PIN">20</field><field name="fun">SECOND_FUNCTION/output</field><next><block type="gpio_digitalw" id="dwnV|C*$LJ68g]7E8ey("><value name="PIN"><shadow type="pins_digital" id="hw4|V9+iQzK]94UX9No7"><field name="PIN">20</field></shadow></value><value name="hg"><shadow type="pins_value" id="O(8+OWlLMFM6-R_]~v!L"><field name="PIN">0</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="hardware_init" id="5(xjiHKGxzSO7.q~)ub2" x="0" y="476"><statement name="DO"><block type="serial_println" id="+u9|y/PR-qxNje!q5:2j"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="NpE+!@!0aw0{Zqyir@UJ"><field name="TEXT">system init ...</field></block></value><next><block type="serial_println" id="rr,#Dn,I(6s-ZZb^a)wq"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="-K,efAcxwl(73YIih:DR"><field name="TEXT">Design By : diysmarthome</field></block></value><next><block type="asr_event_serial_print" id=")X+(4Fj`/PWz]EZcOiqB"><field name="serial_select">Serial2</field><field name="mode">String</field><field name="wordwrap">1</field><field name="NAME">asrpro:poweron</field><next><block type="vol_set" id="!/UUuNoxRDFK?|i.+U/%"><value name="num"><shadow type="asr_vol" id="EZ)8?M=SX~a6F7]b%Ts~"><field name="PIN">4</field></shadow></value><next><block type="ir_learn_init_new" id="i8VRP1~n7(ZNf8{$P(6H"><field name="timer">2</field><value name="out"><shadow type="pins_pwm" id="S2LGbt(t:#,ljy%I|]XK"><field name="PIN">0</field></shadow></value><value name="rev"><shadow type="pins_interrupt" id="g:Pl#IILyrpL1fMFeXfv"><field name="PIN">2</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block><block type="sys_sleep_hook" id="uLm3zGK/-uf,6e3{kETX" x="0" y="695"><statement name="DO"><block type="asr_event_serial_print" id="=yE}C[xOw+%t9(3ure9O"><field name="serial_select">Serial2</field><field name="mode">String</field><field name="wordwrap">1</field><field name="NAME">asrpro:exit</field><next><block type="serial_println" id="GAZm{{;ko#A0bu|Ph9H#"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="=%Yb(u,VWRii-b+IVH7q"><field name="TEXT">asrpro:exit</field></block></value></block></next></block></statement></block><block type="procedures_defnoreturn" id="_,CA|X7pZb*u76:(u~i6" x="0" y="814"><field name="NAME">ASR_CODE</field><comment pinned="false" h="80" w="160">描述该功能...</comment><statement name="STACK"><block type="set_state_enter_wakeup" id="Q.,1wgywYgf#1y/4Z0iQ"><value name="num"><shadow type="math_number" id="T]}!Nn+yD~Ytl.iFx]`{"><field name="NUM">25</field></shadow></value><next><block type="controls_switch_case" id="yXSlZ2fH(;92S=Mqho)S"><mutation elseif="2"></mutation><value name="IF0"><block type="asr_snid" id="n%E|z{/DeGMHXi$nwL[]"></block></value><value name="IF1"><block type="math_number" id=";r@wwEyg/gTcljs}1qGN"><field name="NUM">1</field></block></value><statement name="DO1"><block type="asr_event_serial_print" id="5/7qa~+-uH@,ui%L!df^"><field name="serial_select">Serial2</field><field name="mode">String</field><field name="wordwrap">1</field><field name="NAME">livingroom:on</field><next><block type="serial_println" id=",Y5IS~GUU]pi`@QkZM4)"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="l$It)sHI`X=Y4K$W4F{H"><field name="TEXT">livingroom:on</field></block></value></block></next></block></statement><value name="IF2"><block type="math_number" id="V#hdTeH-Sj^x6a1:+hQ,"><field name="NUM">2</field></block></value><statement name="DO2"><block type="asr_event_serial_print" id="oPWY!@21EDSekM-g,uih"><field name="serial_select">Serial2</field><field name="mode">String</field><field name="wordwrap">1</field><field name="NAME">livingroom:off</field><next><block type="serial_println" id="5]D~f)-.GCa(^];|rR=%"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="AgkBDD24JS_)Pg`nJA_C"><field name="TEXT">livingroom:off</field></block></value></block></next></block></statement><next><block type="controls_switch_case" id="K7Wq$Ax%yGTS7EPCF(cd"><mutation elseif="2"></mutation><value name="IF0"><block type="asr_snid" id="OZYSI7_VTrJIsg+eFjFf"></block></value><value name="IF1"><block type="math_number" id="f.b_6#=hIUmo-iz9{j-5"><field name="NUM">3</field></block></value><statement name="DO1"><block type="asr_event_serial_print" id="YQpCYc;Fo~O@Dp@_0#Xp"><field name="serial_select">Serial2</field><field name="mode">String</field><field name="wordwrap">1</field><field name="NAME">bedroom:on</field><next><block type="serial_println" id="z,t^[:XoZAi(ueBtlQv!"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="XMWF!.4t6zNDa0I5xuer"><field name="TEXT">bedroom:on</field></block></value></block></next></block></statement><value name="IF2"><block type="math_number" id="CEw0pmt;30sH{~+:;VvV"><field name="NUM">4</field></block></value><statement name="DO2"><block type="asr_event_serial_print" id="_YzLh2JY=h4}!*@3KKFx"><field name="serial_select">Serial2</field><field name="mode">String</field><field name="wordwrap">1</field><field name="NAME">bedroom:off</field><next><block type="serial_println" id="T8E$H-G^pNj9Wh+-?G/="><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="!5TItjtHp.~K%7M|5aVy"><field name="TEXT">bedroom:off</field></block></value></block></next></block></statement><next><block type="ir_learn_deal_asr_msg" id="h%C(brjm#u5ET8e7vv=8"></block></next></block></next></block></next></block></statement></block><block type="ir_learn_air" id="z#0E~v6(0a3Z`pm$^1SE" x="0" y="1339"><field name="commnd">匹配空调</field><field name="reply">请按空调电源键</field><field name="exit_reply">空调学习成功</field></block><block type="ir_learn_driver_dev_new" id="6)C/bJ/}8@Wf3+eE=kL:" x="0" y="1417"><field name="id">3000</field><field name="commnd">匹配机顶盒</field><field name="play_end">机顶盒学习完毕</field><statement name="driver_dev_name"><block type="ir_learn_driver_key_new" id="^TLG(a|3UA]6u#tpMVF/"><field name="play">请按机顶盒遥控开机键</field><value name="ASR"><shadow type="ir_learn_driver_asr_none_new"></shadow><block type="ir_learn_driver_asr_new" id="sFC;Sa/q8b@3Y/}@}ckA"><field name="open">打开机顶盒</field><field name="huifu">好的，马上执行</field></block></value><next><block type="ir_learn_driver_key_new" id="ru^=}g^bkSxBk-6HOtPD"><field name="play">请按机顶盒关机键</field><value name="ASR"><shadow type="ir_learn_driver_asr_none_new"></shadow><block type="ir_learn_driver_asr_new" id=")Wxrs!eDA3`TAmJ,EFgw"><field name="open">关闭机顶盒</field><field name="huifu">好的，马上执行</field></block></value><next><block type="ir_learn_driver_key_new" id="mx1#}/IhzJ(!3jJ?feBs"><field name="play">请按频道加键</field><value name="ASR"><shadow type="ir_learn_driver_asr_none_new"></shadow><block type="ir_learn_driver_asr_new" id="R1[(bM@Yhj~3K)_A?oDD"><field name="open">频道加</field><field name="huifu">好的，马上执行</field></block></value><next><block type="ir_learn_driver_key_new" id="Hp/n_TtfRBz;;vI-I5g^"><field name="play">请按频道减键</field><value name="ASR"><shadow type="ir_learn_driver_asr_none_new"></shadow><block type="ir_learn_driver_asr_new" id="e5a/.-CBd3YBi*u3(q(r"><field name="open">频道减</field><field name="huifu">好的，马上执行</field></block></value><next><block type="ir_learn_driver_key_new" id="6QLcr?l0p/tw:7Q-n~Ws"><field name="play">请按机顶盒音量加键</field><value name="ASR"><shadow type="ir_learn_driver_asr_none_new"></shadow><block type="ir_learn_driver_asr_new" id="V{+3,i7cxYLy{#HNhDNI"><field name="open">音量加</field><field name="huifu">好的，马上执行</field></block></value><next><block type="ir_learn_driver_key_new" id="4?8fRqfXB9G+CTYMicB_"><field name="play">请按机顶盒音量减键</field><value name="ASR"><shadow type="ir_learn_driver_asr_none_new"></shadow><block type="ir_learn_driver_asr_new" id="pwm|f^g4%0g#fB;2o6cs"><field name="open">音量减</field><field name="huifu">好的，马上执行</field></block></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="ir_learn_driver_dev_new" id="rgCj~qJ|poMc,Nu(hb(4" x="0" y="1655"><field name="id">4000</field><field name="commnd">匹配电视机</field><field name="play_end">电视机学习完毕</field><statement name="driver_dev_name"><block type="ir_learn_driver_key_new" id="T$+o24N@rF_OC@Bk}=Q#"><field name="play">请按电视机遥控开机键</field><value name="ASR"><shadow type="ir_learn_driver_asr_none_new"></shadow><block type="ir_learn_driver_asr_new" id="hWr{!Aj#6d`|_2$`k^Wq"><field name="open">打开电视</field><field name="huifu">好的，马上执行</field></block></value><next><block type="ir_learn_driver_key_new" id="o{%-YfemQ$R=,EB3{kLm"><field name="play">请按电视机关机键</field><value name="ASR"><shadow type="ir_learn_driver_asr_none_new"></shadow><block type="ir_learn_driver_asr_new" id="bqAJvRUFVgK7#0|E9stP"><field name="open">关闭电视</field><field name="huifu">好的，马上执行</field></block></value><next><block type="ir_learn_driver_key_new" id="vHxisfA_=vGS|M`Tu2v@"><field name="play">请按主页键</field><value name="ASR"><shadow type="ir_learn_driver_asr_none_new"></shadow><block type="ir_learn_driver_asr_new" id=":,HkK|{iJ[H|8d4-8Viz"><field name="open">主页</field><field name="huifu">好的，马上执行</field></block></value><next><block type="ir_learn_driver_key_new" id="16ah(dhbNbYc;Il[vr=!"><field name="play">请按菜单键</field><value name="ASR"><shadow type="ir_learn_driver_asr_none_new"></shadow><block type="ir_learn_driver_asr_new" id="NAIw#ZI49P1Z}t7=umpf"><field name="open">菜单</field><field name="huifu">好的，马上执行</field></block></value><next><block type="ir_learn_driver_key_new" id="YBQ5]e{7824M]FV,eMz+"><field name="play">请按向上键</field><value name="ASR"><shadow type="ir_learn_driver_asr_none_new"></shadow><block type="ir_learn_driver_asr_new" id="p]LqRxw_X4U|bTo1YIWX"><field name="open">向上</field><field name="huifu">好的，马上执行</field></block></value><next><block type="ir_learn_driver_key_new" id="~3}}l!?Tfpg5YwAZo%:T"><field name="play">请按向下键</field><value name="ASR"><shadow type="ir_learn_driver_asr_none_new"></shadow><block type="ir_learn_driver_asr_new" id="(]Q=)6Nr59rR;]f{3;g}"><field name="open">向下</field><field name="huifu">好的，马上执行</field></block></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="ir_learn_driver_dev_new" id="l//mU-k6%ZF~|_n^/,d:" x="0" y="1893"><field name="id">5000</field><field name="commnd">匹配电风扇</field><field name="play_end">电风扇学习完毕</field><statement name="driver_dev_name"><block type="ir_learn_driver_key_new" id="DuHy.V`a5#j1=|J+wF,,"><field name="play">请按电风扇遥控开机键</field><value name="ASR"><shadow type="ir_learn_driver_asr_none_new"></shadow><block type="ir_learn_driver_asr_new" id="b?Iwlj-av._02un+6`};"><field name="open">打开风扇</field><field name="huifu">好的，马上执行</field></block></value><next><block type="ir_learn_driver_key_new" id="ZatO`e4mF*2fB1k4@u?G"><field name="play">请按电风扇关机键</field><value name="ASR"><shadow type="ir_learn_driver_asr_none_new"></shadow><block type="ir_learn_driver_asr_new" id="4TD(p37Tu_upI9QmAshG"><field name="open">关闭风扇</field><field name="huifu">好的，马上执行</field></block></value><next><block type="ir_learn_driver_key_new" id="9:+^a+g-xFxd]IUcK?j~"><field name="play">请按增大风速键</field><value name="ASR"><shadow type="ir_learn_driver_asr_none_new"></shadow><block type="ir_learn_driver_asr_new" id="%YmLQQFPDG4@j_i_xP8M"><field name="open">增大风扇风速</field><field name="huifu">好的，马上执行</field></block></value><next><block type="ir_learn_driver_key_new" id="c:4e3+a$pO.~9G}+wkto"><field name="play">请按减小风速键</field><value name="ASR"><shadow type="ir_learn_driver_asr_none_new"></shadow><block type="ir_learn_driver_asr_new" id="@vx{-vgfCRA:cDYp9*bI"><field name="open">减小风扇风速</field><field name="huifu">好的，马上执行</field></block></value><next><block type="ir_learn_driver_key_new" id="$7Cs%h)fp/V6N8!fPdJ["><field name="play">请按摇头键</field><value name="ASR"><shadow type="ir_learn_driver_asr_none_new"></shadow><block type="ir_learn_driver_asr_new" id="Bz}o!*V]-a~i|7Twb?0`"><field name="open">风扇摇头</field><field name="huifu">好的，马上执行</field></block></value><next><block type="ir_learn_driver_key_new" id="gG3=JKhe?U$%?z2mPmJ~"><field name="play">请按停止摇头键</field><value name="ASR"><shadow type="ir_learn_driver_asr_none_new"></shadow><block type="ir_learn_driver_asr_new" id="Bt4!`syBsC9iR_KB#`0?"><field name="open">停止摇头</field><field name="huifu">好的，马上执行</field></block></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="ir_learn_air_callback" id="$b?=x}i#oHd28+L_~{$S" x="0" y="2131"><field name="state">Success</field><statement name="do"><block type="serial_println" id="[I=-z@2F{0i:5]cvA[95"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="wZa0/X:+sZa}{!o}H3+#"><field name="TEXT">air ok</field></block></value></block></statement></block><block type="ir_learn_air_callback" id="!EXzfplettnE*3JJ!WAC" x="0" y="2224"><field name="state">Timeout</field><statement name="do"><block type="serial_println" id="7SKG1K;nsv,au+hW7,]F"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="GC2z4h)OaPI[Q#oWf%?!"><field name="TEXT">air timeout</field></block></value><next><block type="enter_wakeup" id=":AjU`eXAVkfL=D-;UJ$R"><value name="num"><shadow type="math_number" id="Lj`D-f?5}{6ii{Z8caaV"><field name="NUM">15</field></shadow></value><next><block type="asr_add_id" id="Y_]I~lxp(QEnl[|,j^R|"><field name="NAME">空调学习超时</field><field name="id">300</field></block></next></block></next></block></statement></block><block type="ir_learn_ir_callback" id="=M=_c6.rsZ,@]XIlf,gD" x="0" y="2380"><field name="state">Success</field><statement name="do"><block type="serial_println" id="?|tsO$=i0ZqI}W_*IkqZ"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="sZnFuW6;l]|O)pyDfNq#"><field name="TEXT">ir ok</field></block></value></block></statement></block><block type="ir_learn_ir_callback" id="[[oBJ?2g@{%|JjAmZ];O" x="0" y="2473"><field name="state">Timeout</field><statement name="do"><block type="serial_println" id="ewuxF9/F*;2`_9kTcZNn"><field name="serial_select">Serial</field><value name="CONTENT"><block type="text" id="-OzX*j~I}BYpH|~,g1z3"><field name="TEXT">ir timeout</field></block></value><next><block type="enter_wakeup" id="M/%mo;|:tNgDhr|~AOVN"><value name="num"><shadow type="math_number" id="XQ8KVacRKW}Gcdp@17/e"><field name="NUM">15</field></shadow></value><next><block type="asr_add_id" id="_pcd7JbMLjg?|/#3C|i~"><field name="NAME">红外学习超时</field><field name="id">301</field></block></next></block></next></block></statement></block></xml>
<!-- edittype="asr_pro" -->
<!-- officialLib="[{"id":446,"version":"0.0.4"},{"id":523,"version":"0.0.5"}]" -->
<!-- personalLib="[]" -->